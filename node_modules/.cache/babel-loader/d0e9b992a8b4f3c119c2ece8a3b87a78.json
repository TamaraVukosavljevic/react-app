{"ast":null,"code":"import Big from \"big.js\";\nimport operate from \"./operate\";\nimport isNumber from \"./isNumber\";\n/**\n\n *   total:String     total\n *   next:String      broj nad kojim se vrsi operacija sa total\n *   operation:String  operacije +, -, *, :.\n */\n\nexport default function calculate(obj, buttonName) {\n  if (buttonName === \"AC\") {\n    return {\n      total: null,\n      next: null,\n      operation: null\n    };\n  } //ako je AC isprazniti ceo objekat\n  //ako je unet broj\n\n\n  if (isNumber(buttonName)) {\n    if (buttonName === \"0\" && obj.next === \"0\") {\n      return {};\n    } //ako je broj nula onda vrati prazan objekat\n\n\n    if (obj.operation) {\n      //ako postoji operacija +,-,*,:\n      if (obj.next) {\n        return {\n          next: obj.next + buttonName\n        }; //ako vec postoji next nadovezi novu vrednost\n      }\n\n      return {\n        next: buttonName\n      }; //ako ne postoji samo vrati tu vrednost\n    } // ako ne postoji operacija samo update-uj ili vrati vrednost next\n\n\n    if (obj.next) {\n      //ako postoji next\n      const next = obj.next === \"0\" ? buttonName : obj.next + buttonName; //i nula je samo vrati ime dugmeta, ako je nesto drugo update-uj next\n\n      return {\n        next,\n        total: null\n      };\n    }\n\n    return {\n      next: buttonName,\n      total: null\n    };\n  } //ako nije broj onda je operacija \n  //ako je jednako i operacija i next nisu prazni obaviti operaciju nad total i next\n\n\n  if (buttonName === \"=\") {\n    if (obj.next && obj.operation) {\n      return {\n        total: operate(obj.total, obj.next, obj.operation),\n        next: null,\n        operation: null\n      };\n    } else {\n      // '=' bez operacije vraca prazan objekat\n      return {};\n    }\n  } //Operacije\n  //replace operacije, ako vec postoji operacija a nova je kliknuta - cuva se nova\n\n\n  if (obj.operation) {\n    return {\n      total: operate(obj.total, obj.next, obj.operation),\n      next: null,\n      operation: buttonName\n    };\n  } // Ako ne postoji broj u next, sacuvaj operaciju\n\n\n  if (!obj.next) {\n    return {\n      operation: buttonName\n    };\n  } // sacuvaj operaciju i prebaci next u total, ceka se sledeci broj\n\n\n  return {\n    total: obj.next,\n    next: null,\n    operation: buttonName\n  };\n}","map":{"version":3,"sources":["C:/Users/Lenovo/Documents/create-react-app-main/my-app/src/logic/calculate.js"],"names":["Big","operate","isNumber","calculate","obj","buttonName","total","next","operation"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,QAAhB;AAEA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,QAAP,MAAqB,YAArB;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,SAAT,CAAmBC,GAAnB,EAAwBC,UAAxB,EAAoC;AACjD,MAAIA,UAAU,KAAK,IAAnB,EAAyB;AACvB,WAAO;AACLC,MAAAA,KAAK,EAAE,IADF;AAELC,MAAAA,IAAI,EAAE,IAFD;AAGLC,MAAAA,SAAS,EAAE;AAHN,KAAP;AAKD,GAPgD,CAQjD;AACF;;;AACE,MAAIN,QAAQ,CAACG,UAAD,CAAZ,EAA0B;AACxB,QAAIA,UAAU,KAAK,GAAf,IAAsBD,GAAG,CAACG,IAAJ,KAAa,GAAvC,EAA4C;AAC1C,aAAO,EAAP;AACD,KAHuB,CAIxB;;;AAEA,QAAIH,GAAG,CAACI,SAAR,EAAmB;AACjB;AACA,UAAIJ,GAAG,CAACG,IAAR,EAAc;AACZ,eAAO;AAAEA,UAAAA,IAAI,EAAEH,GAAG,CAACG,IAAJ,GAAWF;AAAnB,SAAP,CADY,CAEZ;AACD;;AACD,aAAO;AAAEE,QAAAA,IAAI,EAAEF;AAAR,OAAP,CANiB,CAOjB;AACD,KAduB,CAexB;;;AACA,QAAID,GAAG,CAACG,IAAR,EAAc;AACZ;AACA,YAAMA,IAAI,GAAGH,GAAG,CAACG,IAAJ,KAAa,GAAb,GAAmBF,UAAnB,GAAgCD,GAAG,CAACG,IAAJ,GAAWF,UAAxD,CAFY,CAGZ;;AACA,aAAO;AACLE,QAAAA,IADK;AAELD,QAAAA,KAAK,EAAE;AAFF,OAAP;AAID;;AACD,WAAO;AACLC,MAAAA,IAAI,EAAEF,UADD;AAELC,MAAAA,KAAK,EAAE;AAFF,KAAP;AAID,GAvCgD,CA4CnD;AACA;;;AACE,MAAID,UAAU,KAAK,GAAnB,EAAwB;AACtB,QAAID,GAAG,CAACG,IAAJ,IAAYH,GAAG,CAACI,SAApB,EAA+B;AAC7B,aAAO;AACLF,QAAAA,KAAK,EAAEL,OAAO,CAACG,GAAG,CAACE,KAAL,EAAYF,GAAG,CAACG,IAAhB,EAAsBH,GAAG,CAACI,SAA1B,CADT;AAELD,QAAAA,IAAI,EAAE,IAFD;AAGLC,QAAAA,SAAS,EAAE;AAHN,OAAP;AAKD,KAND,MAMO;AACL;AACA,aAAO,EAAP;AACD;AACF,GAzDgD,CA6DjD;AAEA;;;AACA,MAAIJ,GAAG,CAACI,SAAR,EAAmB;AACjB,WAAO;AACLF,MAAAA,KAAK,EAAEL,OAAO,CAACG,GAAG,CAACE,KAAL,EAAYF,GAAG,CAACG,IAAhB,EAAsBH,GAAG,CAACI,SAA1B,CADT;AAELD,MAAAA,IAAI,EAAE,IAFD;AAGLC,MAAAA,SAAS,EAAEH;AAHN,KAAP;AAKD,GAtEgD,CAwEjD;;;AACA,MAAI,CAACD,GAAG,CAACG,IAAT,EAAe;AACb,WAAO;AAAEC,MAAAA,SAAS,EAAEH;AAAb,KAAP;AAED,GA5EgD,CA+EjD;;;AACA,SAAO;AACLC,IAAAA,KAAK,EAAEF,GAAG,CAACG,IADN;AAELA,IAAAA,IAAI,EAAE,IAFD;AAGLC,IAAAA,SAAS,EAAEH;AAHN,GAAP;AAMD","sourcesContent":["import Big from \"big.js\";\n\nimport operate from \"./operate\";\nimport isNumber from \"./isNumber\";\n\n/**\n\n *   total:String     total\n *   next:String      broj nad kojim se vrsi operacija sa total\n *   operation:String  operacije +, -, *, :.\n */\nexport default function calculate(obj, buttonName) {\n  if (buttonName === \"AC\") {\n    return {\n      total: null,\n      next: null,\n      operation: null,\n    };\n  }\n  //ako je AC isprazniti ceo objekat\n//ako je unet broj\n  if (isNumber(buttonName)) {\n    if (buttonName === \"0\" && obj.next === \"0\") {\n      return {};\n    }\n    //ako je broj nula onda vrati prazan objekat\n    \n    if (obj.operation) {\n      //ako postoji operacija +,-,*,:\n      if (obj.next) {\n        return { next: obj.next + buttonName };\n        //ako vec postoji next nadovezi novu vrednost\n      }\n      return { next: buttonName };\n      //ako ne postoji samo vrati tu vrednost\n    }\n    // ako ne postoji operacija samo update-uj ili vrati vrednost next\n    if (obj.next) {\n      //ako postoji next\n      const next = obj.next === \"0\" ? buttonName : obj.next + buttonName;\n      //i nula je samo vrati ime dugmeta, ako je nesto drugo update-uj next\n      return {\n        next,\n        total: null,\n      };\n    }\n    return {\n      next: buttonName,\n      total: null,\n    };\n  }\n\n \n\n \n//ako nije broj onda je operacija \n//ako je jednako i operacija i next nisu prazni obaviti operaciju nad total i next\n  if (buttonName === \"=\") {\n    if (obj.next && obj.operation) {\n      return {\n        total: operate(obj.total, obj.next, obj.operation),\n        next: null,\n        operation: null,\n      };\n    } else {\n      // '=' bez operacije vraca prazan objekat\n      return {};\n    }\n  }\n\n \n\n  //Operacije\n\n  //replace operacije, ako vec postoji operacija a nova je kliknuta - cuva se nova\n  if (obj.operation) {\n    return {\n      total: operate(obj.total, obj.next, obj.operation),\n      next: null,\n      operation: buttonName,\n    };\n  }\n\n  // Ako ne postoji broj u next, sacuvaj operaciju\n  if (!obj.next) {\n    return { operation: buttonName };\n   \n  }\n\n  \n  // sacuvaj operaciju i prebaci next u total, ceka se sledeci broj\n  return {\n    total: obj.next,\n    next: null,\n    operation: buttonName,\n  };\n  \n}\n"]},"metadata":{},"sourceType":"module"}